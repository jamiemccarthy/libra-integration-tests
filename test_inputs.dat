# Copyright 2012 Hewlett-Packard Development Company, L.P.
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may
# not use this file except in compliance with the License. You may obtain
# a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.

    
######################################
# variable inputs
######################################
default_values: 
  default_name: 'Lbaas_test_node'
  default_nodes: 
    - address: "15.185.227.208"
      port: "80"
    - address: "15.185.229.230"
      port: "80"
  nodes:
    - address: "15.185.227.208"
      port: "80"
    - address: "15.185.226.163"
      port: "80"
    - address: "15.185.229.95"
      port: "80"
    - address: "15.185.229.153"
      port: "80"
    - address: "15.185.229.165"
      port: "80"
    - address: "15.185.229.202"
      port: "80"
    - address: "15.185.229.224"
      port: "80"
    - address: "15.185.229.226"
      port: "80"
    - address: "15.185.229.227"
      port: "80"
    - address: "15.185.229.230"
      port: "80"

lb_name_variants: 
    - description: 'basic_positive_name'
      name: 'the quick, brown fox jumps over the lazy dog.'
      expected_status: 200
    - description: 'nonalpha_name'
      name: '!@#@!'
      expected_status: 200
    - description: 'overlong_name'
      name: 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
      expected_status: 500
    - description: 'null_name'
      name: ''
      expected_status: 200
    - description: 'whitespace_name'
      name: ' '
      expected_status: 200
    - description: 'long_whitespace_name'
      name: "                                                                                                                                "
      expected_status: 200
    - description: 'long_postive_name'
      name: 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'
      expected_status: 200
    - description: 'nonalpha_name'
      name: '!@#@!'
      expected_status: 200
    - description: overlong_whitespace_name
      name: "                                                                                                                                  "
      expected_status: 200
    - description: 'overlong_utf8_name'
      name: '⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷⚷'
      expected_status: 500
      disabled: True

node_variants:
    - description: 'one_node'
      node_count: 1
      expected_status: 200
    - description: 'two_nodes'
      node_count: 2
      expected_status: 200
    - description: 'three_nodes'
      node_count: 3
      expected_status: 200
    - description: 'five_nodes'
      node_count: 5
      expected_status: 200
    - description: 'max_nodes'
      node_count: 'MAX_BACKEND_COUNT'
      expected_status: 200
    - description:  'bad_ip_address1'
      nodes:
         - address: "ImmaBadIP7"
           port: "80"
         - address: "15.185.227.208"
           port: "80"
      expected_status: 400
    - description: 'no_nodes'
      nodes: [{}]
      expected_status: 400
    - description: 'no_ip_value'
      nodes:
          - address: ""
            port: "80"
      expected_status: 400
    - description: 'no_address'
      nodes:  [{"port": "80"}]
      expected_status: 400
    - description: 'null_port_value'
      nodes: [{"address": "15.185.229.230","port": ""}]
      expected_status: 400
    - description: 'no_port_entry'
      nodes: [{"address": "15.185.229.230"}]
      expected_status: 400
    - description: 'garbage_value'
      nodes: [{"address": "15.185.229.230","port": "80",'ikeelyou':'boomGoesTheDynamite!'}]
      expected_status: 200
    - description: 'bad_port_value'
      nodes: [{"address": "15.185.229.230","port": "iKeelYou"}]
      expected_status: 400
    - description: 'port_443'
      nodes: 
          - address: "15.185.227.208"
            port: "443"
          - address: "15.185.227.208"
            port: "443"
      expected_status: 200
    - description: 'over_max_nodes'
      node_count: 'MAX_BACKEND_COUNT +1'
      expected_status: 413

algorithm_variants:
    - description: 'round_robin_algo'
      algorithm: "ROUND_ROBIN"
      expected_status: 200
    - description: 'least_connections_algo'
      algorithm: "LEAST_CONNECTIONS"
      expected_status: 200
    - description: 'bad_algorithm'
      algorithm: "IDONOTEXIST"
      expected_status: 400
    - description: 'fuzzy_good_algo'
      algorithm: "ROUND_ROBIN1"
      expected_status: 400

update_variants:
    - description: 'positive_name_update'
      update_data: {"name":"This_is_my_new_name"}
      expected_status: 200
    - description: 'negative_name_update'
      update_data: {"name": 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'}
      expected_status: 400
    - description: 'positive_algorithm_RR'
      update_data: {"algorithm": 'ROUND_ROBIN'}
      expected_status: 200
    - description: 'positive_algorithm_LC'
      update_data: {"algorithm": 'LEAST_CONNECTIONS'}
      expected_status: 200
    - description: 'negative_algorithm'
      update_data: {"algorithm": 'IDONTEXIST'}
      expected_status: 400
    - description: 'negative_algorithm_fuzz'
      update_data: {"algorithm": 'ROUND_ROBIN1'}
      expected_status: 400
    - description: 'multi_attr_change_positive'
      update_data: {"name": "This_is_a_good_new_name", "algorithm": "LEAST_CONNECTIONS"}
      expected_status: 200
    - description: 'multi_attr_change_neg_name'
      update_data: {"name": 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX', "algorithm": "LEAST_CONNECTIONS"}
      expected_status: 400
    - description: 'multi_attr_change_neg_algo'
      update_data: {"name": "good_new_name", "algorithm": "iWillKeelYou"}
      expected_status: 400
